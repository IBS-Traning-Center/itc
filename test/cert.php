<?//include($_SERVER["DOCUMENT_ROOT"]."/bitrix/modules/main/include/prolog_before.php");//echo GenarateCert(32817, 106085);function GenarateCert($USER_ID, $COURSE_ID){	$rsUser = CUser::GetByID($USER_ID);	$arUser = $rsUser->Fetch();	if (strlen($arUser["LAST_NAME"])>0 && (strlen($arUser["NAME"])>0))	{				if (CModule::IncludeModule("iblock")) {			$arSelect = Array("ID", "NAME", "PROPERTY_SCHEDULE_DURATION", "PROPERTY_SCHEDULE_COURSE.NAME", "DATE_ACTIVE_FROM");			$arFilter = Array("IBLOCK_ID"=>9, "ID"=>$COURSE_ID);			$res = CIBlockElement::GetList(Array(), $arFilter, false, Array("nPageSize"=>50), $arSelect);			while($ob = $res->GetNextElement())			{			  $arFields = $ob->GetFields();			  $courseNAME=$arFields["PROPERTY_SCHEDULE_COURSE_NAME"];			  $courseDURATION = $arFields["PROPERTY_SCHEDULE_DURATION_VALUE"];			}				}	} else {		return false;	}	if (strlen($courseNAME)==0){		return false;	}		$date = FormatDate("f Y", time());	$html = '	<style>	div {		text-align: center; font-family: Arial;  font-size: 18pt;	}	</style>	<body style="background:url(/images/EB_certificate.jpg) no-repat; position: relative;">		<div style="padding-top: 145px; font-family: Arial; font-weight: bold; color: #943634; font-size: 36pt;">Сертификат</div>		<div style="padding-top: 50px;">Настоящий документ подтверждает, что</div>		<div style="font-size: 28pt; padding-top: 20px; text-align: center; font-family: Arial; font-weight: bold; font-style: italic;">'.iconv("windows-1251", "UTF-8", $arUser["LAST_NAME"]).' '.iconv("windows-1251", "UTF-8" ,$arUser["NAME"]).'</div>		<div style="padding-top: 20px;">прослушал(а)</div>		<div style="padding-top: 5px;">курс<div>		<div style="padding-top: 28px; margin: 0 auto; font-weight: bold; width: 600px; font-size: 26pt;">'.iconv("windows-1251", "UTF-8", $courseNAME).'</div>		<div style="padding-top: 5px; margin: 0 auto;  font-size: 20pt; margin-bottom: 100px; ">('.$courseDURATION.' '.getCountVal($courseDURATION,array("час", "часа", "часов")).')</div>		<div style="position: relative;  bottom: 10px;">		<div style="width: 350px; float: right; font-style: italic; font-size: 12pt; text-align: right">		Директор Профессионального<br>Учебного Центра<br/>		<table style="width: 100%;" border="0" cellpadding="0" cellspacing="0">			<tr>				<td style="font-size: 13pt; font-weight: bold; font-family: Arial; text-align: right; vertical-align: middle; font-style: italic;">Литвинова Елена</td>			</tr>			<tr>				<td style="text-align: right;">					<img src="/images/podp.png" style="margin-bottom: 10px; max-width: 108px;"/>				</td>            </tr>		</table>		<div style="font-size: 13pt; font-weight: bold; text-align: right; padding-top: 0px;">'.iconv("windows-1251", "UTF-8", $date).' г.</div>		</div>	 </div>	</body>	';    $mpdf = new \Mpdf\Mpdf([        'mode' => 'CP-1251',        'format' => [250, 351],    ]);	$mpdf->WriteHTML($html);	$name=$USER_ID."_".$COURSE_ID."_".substr(md5("213".$COURSE_ID), 0, 4).".pdf";	$mpdf->Output($_SERVER["DOCUMENT_ROOT"]."/cert/".$name); 	return $name;}?>