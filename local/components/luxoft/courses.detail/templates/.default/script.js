"use strict";(self.webpackChunkwebpack_bitrx=self.webpackChunkwebpack_bitrx||[]).push([[426],{6454:(e,t,a)=>{var r=a(144),o=a(4720),s=a.n(o),l=a(9903),n=a(8620),i=a(9278),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"course-detail-modal",attrs:{title:e.lang.title,visible:e.showModal,"before-close":e.modalClose,"lock-scroll":!1,"close-on-click-modal":!1,width:"90%"}},["success"!==e.formStatus?a("el-form",{ref:"formData",staticClass:"demo-form-inline",attrs:{inline:!0,"label-position":"top"}},[a("el-row",{staticClass:"course-detail-modal__row course-detail-modal__row_select",attrs:{gutter:30}},[a("el-col",{attrs:{span:12,xs:24}},[a("el-form-item",{attrs:{label:e.lang.date}},[a("el-select",{staticClass:"course-detail-modal__date",attrs:{placeholder:"Select"},on:{change:e.setScheduleDataFormData},model:{value:e.formData.scheduleId,callback:function(t){e.$set(e.formData,"scheduleId",t)},expression:"formData.scheduleId"}},e._l(e.scheduleDates,(function(e){return a("el-option",{key:e.id,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:30}},[a("el-col",{attrs:{span:8,xs:24}},[a("el-form-item",{class:{"is-error":e.$v.formData.name.$error},attrs:{label:e.lang.name,error:e.$v.formData.name.$error?e.lang.errorName:"",required:""}},[a("el-input",{model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8,xs:24}},[a("el-form-item",{class:{"is-error":e.$v.formData.company.$error},attrs:{label:e.lang.company,error:e.$v.formData.company.$error?e.lang.errorCompany:""}},[a("el-input",{model:{value:e.formData.company,callback:function(t){e.$set(e.formData,"company",t)},expression:"formData.company"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8,xs:24}},[a("el-form-item",{class:{"is-error":e.$v.formData.position.$error},attrs:{label:e.lang.position,error:e.$v.formData.position.$error?e.lang.errorPosition:"",required:""}},[a("el-select",{staticClass:"course-detail-modal__date",attrs:{filterable:"","allow-create":"",placeholder:""},model:{value:e.formData.position,callback:function(t){e.$set(e.formData,"position",t)},expression:"formData.position"}},e._l(e.positions,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:30}},[a("el-col",{attrs:{span:8,xs:24}},[a("el-form-item",{class:{"is-error":e.$v.formData.email.$error},attrs:{label:e.lang.email,error:e.$v.formData.email.$error?e.lang.errorEmail:"",required:""}},[a("el-input",{model:{value:e.formData.email,callback:function(t){e.$set(e.formData,"email",t)},expression:"formData.email"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8,xs:24}},[a("el-form-item",{class:{"is-error":e.$v.formData.phone.$error},attrs:{label:e.lang.phone,error:e.$v.formData.phone.$error?e.lang.errorPhone:"",required:""}},[a("el-input",{directives:[{name:"mask",rawName:"v-mask",value:e.checkPhone,expression:"checkPhone"}],model:{value:e.formData.phone,callback:function(t){e.$set(e.formData,"phone",t)},expression:"formData.phone"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8,xs:24}},[a("el-form-item",{class:{"is-error":e.$v.formData.city.$error},attrs:{label:e.lang.city,error:e.$v.formData.city.$error?e.lang.errorCity:""}},[a("el-input",{model:{value:e.formData.city,callback:function(t){e.$set(e.formData,"city",t)},expression:"formData.city"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:30}},[a("el-col",{attrs:{span:24,xs:24}},[a("el-form-item",{attrs:{label:e.lang.comment}},[a("el-input",{attrs:{rows:4,type:"textarea"},model:{value:e.formData.comment,callback:function(t){e.$set(e.formData,"comment",t)},expression:"formData.comment"}})],1)],1)],1)],1):a("el-form",[a("el-row",{attrs:{gutter:30}},[a("el-col",{attrs:{span:24,xs:24}},[a("div",{staticClass:"form-success__title"},[e._v(e._s(e.lang.successTitle))])])],1),e._v(" "),a("el-row",{attrs:{gutter:30}},[a("el-col",{attrs:{span:24,xs:24}},[a("div",{staticClass:"form-success__message"},[e._v(e._s(e.lang.successMessage))])])],1)],1),e._v(" "),a("loader",{directives:[{name:"show",rawName:"v-show",value:e.showLoader,expression:"showLoader"}]}),e._v(" "),"success"!==e.formStatus?a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-row",{attrs:{gutter:30}},[a("el-col",{staticClass:"course-detail-modal__agree",attrs:{span:16}},[a("el-checkbox",{class:{"is-error":e.$v.formData.agree_1.$error},attrs:{required:""},model:{value:e.formData.agree_1,callback:function(t){e.$set(e.formData,"agree_1",t)},expression:"formData.agree_1"}},[a("span",{domProps:{innerHTML:e._s(e.lang.agree_1)}})]),e._v(" "),a("el-checkbox",{class:{"is-error":e.$v.formData.agree_2.$error},attrs:{required:""},model:{value:e.formData.agree_2,callback:function(t){e.$set(e.formData,"agree_2",t)},expression:"formData.agree_2"}},[a("span",{domProps:{innerHTML:e._s(e.lang.agree_2)}})])],1),e._v(" "),a("el-col",{staticClass:"course-detail-modal__submit",attrs:{span:8}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit("formData")}}},[e._v(e._s(e.lang.register))])],1)],1)],1):e._e()],1)};c._withStripped=!0;var u=a(9486),d=a(9797),m=function(){var e=this;e.$createElement;return e._self._c,e._m(0)};m._withStripped=!0;var f=a(1900),h=(0,f.Z)({},m,[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"loader__wrap"},[a("div",{staticClass:"loader"},[a("span",{staticClass:"loader__circle"}),e._v(" "),a("span",{staticClass:"loader__circle"}),e._v(" "),a("span",{staticClass:"loader__circle"}),e._v(" "),a("span",{staticClass:"loader__circle"})])])}],!1,null,"18d2a7d5",null);function p(e){return[...e.replace(/[^+0-9]/g,"")]}h.options.__file="src/components/loader/default.vue";const v={components:{loader:h.exports},data:()=>({...window.vueData.courseDetail,showLoader:!1,formStatus:"",scheduleDates:[],formData:{customDate:"",scheduleId:0,scheduleDateStart:"",scheduleDateEnd:"",scheduleTime:"",scheduleLocation:"",scheduleDuration:"",courseId:0,courseCode:"",courseName:"",courseDetailUrl:"",name:"",company:"",position:"",email:"",phone:"",city:"",comment:"",agree_1:"",agree_2:"",clientId:""},checkPhone:p}),computed:{showModal(){const e=d.Z.state.courseDetail.scheduleId;return this.$set(this.formData,"scheduleId",e),!!e},validationRules:()=>({formData:{name:{required:u.required,minLength:(0,u.minLength)(2)},company:{minLength:(0,u.minLength)(2)},position:{required:u.required},city:{minLength:(0,u.minLength)(2)},phone:{required:u.required,minLength:(0,u.minLength)(10)},email:{required:u.required,email:u.email},agree_1:{required:u.required},agree_2:{required:u.required}}})},validations(){return this.validationRules},methods:{setScheduleDataFormData(e){const t=this;if("openDate"===e)t.$set(t.formData,"scheduleDateStart",""),t.$set(t.formData,"scheduleDateEnd",""),t.$set(t.formData,"scheduleTime",""),t.$set(t.formData,"scheduleLocation",""),t.$set(t.formData,"scheduleDuration","");else{const a=t.schedule.filter((function(t){return e===t.id}));t.$set(t.formData,"scheduleDateStart",a[0].date.start),t.$set(t.formData,"scheduleDateEnd",a[0].date.end),t.$set(t.formData,"scheduleTime",a[0].time),t.$set(t.formData,"scheduleLocation",a[0].city),t.$set(t.formData,"scheduleDuration",a[0].duration)}},modalClose(){d.Z.dispatch("courseDetail/setShowModal",!1)},async submit(){const e=this;if(e.$v.$touch(),e.$v.$invalid)e.$notify({title:e.lang.titleError,message:e.lang.errorFields,type:"error"});else try{e.$set(e,"showLoader",!0);const t=await BX.ajax.runComponentAction("luxoft:courses.detail","formSave",{mode:"class",data:e.formData});e.$set(e,"showLoader",!1),e.$set(e,"formStatus","success"),e.sendAnalytics(t.data.resultId),e.formReset()}catch(t){e.$set(e,"showLoader",!1),void 0!==t.errors?t.errors.forEach((function(t){setTimeout((function(){e.$notify({title:e.lang.titleError,message:t.message,type:"error",duration:2e3})}),250)})):e.$notify({title:e.lang.titleError,message:t,type:"error"})}},formReset(){this.$set(self,"formData",{location:"",customDate:"",scheduleId:0,scheduleDateStart:"",scheduleDateEnd:"",scheduleTime:"",scheduleLocation:"",scheduleDuration:"",courseId:0,courseCode:"",courseName:"",courseDetailUrl:"",recommendations:[],name:"",company:"",position:"",email:"",phone:"",city:"",comment:"",agree_1:"",agree_2:"",clientId:""})},formInit(){const e=this;if(e.id&&e.$set(e.formData,"courseId",e.id),e.code&&e.$set(e.formData,"courseCode",e.code),e.name&&e.$set(e.formData,"courseName",e.name),e.detailUrl&&e.$set(e.formData,"courseDetailUrl",e.detailUrl),e.location&&e.$set(e.formData,"location",e.location),e.courses&&e.$set(e.formData,"recommendations",e.courses),ym(23056159,"getClientID",function(w){w&&(e.$set(e.formData,"clientId",w))}),e.schedule.length&&(e.schedule.forEach((function(t){e.scheduleDates.push({id:t.id,label:t.formLabel,value:t.id})})),e.$set(e.formData,"scheduleId",e.schedule[0].id),e.scheduleId)){e.$set(e.formData,"scheduleId",e.scheduleId);const t=e.schedule.filter((function(t){return e.scheduleId===t.id}));e.$set(e.formData,"scheduleDateStart",t[0].date.start),e.$set(e.formData,"scheduleDateEnd",t[0].date.end),e.$set(e.formData,"scheduleTime",t[0].time),e.$set(e.formData,"scheduleLocation",t[0].city),e.$set(e.formData,"scheduleDuration",t[0].duration)}e.scheduleDates.push({id:0,label:e.lang.openDate,value:"openDate"})},sendAnalytics(e){const t=this;let a={};if("openDate"===t.formData.scheduleId)window.targetEvents.noScheduleRegistration(),a={id:e,revenue:t.sale.price},item={id:e,name:window.vueData.courseDetail.code+" "+window.vueData.courseDetail.name+" "+window.vueData.courseDetail.city,sku:t.id,quantity:"1",price:t.sale.price};else{window.targetEvents.scheduleRegistration();const r=t.schedule.filter((function(e){return t.formData.scheduleId===e.id}));a={id:e,revenue:r[0].sale.discountPrice,currency:r[0].sale.currency},item={id:e,name:r[0].code+" "+r[0].name+" "+r[0].city+" "+r[0].date.start,sku:r[0].id,quantity:"1",price:r[0].sale.discountPrice,currency:r[0].sale.currency}}window.targetEvents.purchase(a,item)}},created(){this.formInit()}};var _=(0,f.Z)(v,c,[],!1,null,null,null);_.options.__file="components/luxoft/courses.detail/templates/.default/src/template.vue";const D=_.exports;var g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detailModalMenu"},[a("ul",{staticClass:"detailModalMenu__list"},e._l(e.menu,(function(e){return a("li",{staticClass:"detailModalMenu__item"},[a("a",{staticClass:"detailModalMenu__link",attrs:{href:""}})])})),0)])};g._withStripped=!0;const y={data:()=>({menu:[...window.vueData.detailModalMenu]})};var w=(0,f.Z)(y,g,[],!1,null,null,null);w.options.__file="components/luxoft/courses.detail/templates/.default/src/templateMenu.vue";const b=w.exports;function x(){$(window).scrollTop()+$(".header").height()>parseInt($(".course-detail__menu-and-offer").offset().top)?($(".course-menu-and-offer").addClass("fixed"),$(".course-detail__menu-and-offer").height($(".course-menu-and-offer").height()).addClass("fixed")):($(".course-menu-and-offer").removeClass("fixed"),$(".course-detail__menu-and-offer").css("height","auto").removeClass("fixed"))}document.addEventListener("DOMContentLoaded",(function(){if(r.default.use(i.ZP),r.default.use(n.ZP),r.default.use(s(),{locale:l.Z}),new r.default({render:e=>e(D)}).$mount("#courseModal"),new r.default({render:e=>e(b)}).$mount("#detailModalMenu"),$(".course-menu-and-offer").length>0){let e=document.querySelector(".header"),t=(document.querySelector(".course-menu-and-offer"),document.querySelector(".course-detail__offer")),a=0;x(),window.addEventListener("scroll",(function(){let r=window.scrollY,o=r+e.getBoundingClientRect().bottom,s=r+t.getBoundingClientRect().top;a=Math.round(o-s>0?o-s:0),console.log("headerPosition:"+o,"offerPosition:"+s,"offerMarginTop:"+a),t.style.paddingTop=a+"px",x()}))}document.querySelectorAll(".course-schedules__view-control").forEach((function(e){e.addEventListener("change",(function(e){document.querySelectorAll("[data-schedules-type]").forEach((function(e){e.style.display="none"})),document.querySelector('[data-schedules-type="'+e.target.value+'"]').style.display="block"}))})),document.querySelectorAll(".course-accordion .course-accordion-item__header").forEach((function(e){e.addEventListener("click",(function(e){var t=this;t.classList.contains("active")?t.classList.remove("active"):t.classList.add("active")}))})),document.querySelectorAll(".js-course-detail-reviews").forEach((function(e){e.addEventListener("click",(function(e){BX.ajax.runComponentAction("luxoft:courses.detail","getReviews",{})}))})),document.querySelectorAll(".course-trainers-item__more").forEach((function(e){e.addEventListener("click",(function(e){if(this.parentElement.querySelector(".course-trainers-item__description")){let e=this.parentElement;e.classList.contains("open")?e.classList.remove("open"):e.classList.add("open")}}))})),document.querySelectorAll(".js-course-roadmap-show").forEach((function(e){e.addEventListener("click",(function(e){var t=this,a=t.parentElement,r=t.getAttribute("data-alternative-text");t.classList.contains("open")?(a&&a.querySelectorAll(".course-accordion-item__header").forEach((function(e){e.classList.remove("active")})),t.setAttribute("data-alternative-text",t.innerText),t.classList.remove("open"),t.innerText=r):(a&&a.querySelectorAll(".course-accordion-item__header").forEach((function(e){e.classList.add("active")})),t.setAttribute("data-alternative-text",t.innerText),t.classList.add("open"),t.innerText=r)}))})),document.querySelectorAll(".js-menu-scroll").forEach((function(e){})),document.querySelectorAll('a[href^="#"]').forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault();let t=this.getAttribute("href").substring(1);const a=document.getElementById(t),r=document.querySelector(".course-menu-and-offer").offsetHeight+document.querySelector(".header").offsetHeight,o=a.getBoundingClientRect().top-r;window.scrollBy({top:o,behavior:"smooth"})}))})),document.querySelectorAll(".course-menu__mobile-dropdown-select").forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault(),this.parentElement.classList.add("open")}))})),null!==document.querySelector(".js_show-all-reviews")&&document.querySelector(".js_show-all-reviews").addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation();const t=this,a=t.previousElementSibling,r=t.getAttribute("data-alternative-text");t.setAttribute("data-alternative-text",t.innerText),t.innerText=r,a.classList.contains("show-all")?a.classList.remove("show-all"):a.classList.add("show-all")})),document.querySelectorAll(".course-menu__mobile-dropdown-wrap").forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault(),this.parentElement.classList.remove("open")}))})),document.querySelectorAll(".course-menu__mobile-dropdown .course-menu__link").forEach((e=>{e.addEventListener("click",(function(e){document.querySelector(".course-menu__mobile-dropdown-select").innerText=this.innerText,document.querySelector(".course-menu__mobile-dropdown").classList.remove("open")}))}))}))},9797:(e,t,a)=>{a.d(t,{Z:()=>i});var r=a(144),o=a(629);const s={namespaced:!0,state:()=>({id:1}),getters:{},actions:{add({commit:e},{id:t}){e("setStore",{property:"id",value:t})}},mutations:{setStore(e,{property:t,value:a}){e[t]=a}}},l={namespaced:!0,state:()=>({id:1}),getters:{},actions:{add({commit:e},{id:t}){e("setStore",{property:"id",value:t})}},mutations:{setStore(e,{property:t,value:a}){e[t]=a}}},n={namespaced:!0,state:()=>({scheduleId:!1}),getters:{},actions:{setShowModal({commit:e},t){e("setStore",{property:"scheduleId",value:t})}},mutations:{setStore(e,{property:t,value:a}){e[t]=a}}};r.default.use(o.ZP);const i=new o.ZP.Store({modules:{courseDetail:n,analytics:l,order:s},strict:!1,plugins:[]})},2665:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[216],(()=>(t(6454),t(2665)))),e.O()}]);